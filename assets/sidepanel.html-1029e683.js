import{$ as i,Y as h,aU as x,r,a2 as e,aO as p,aP as g,aQ as f,aR as b,aS as j,a4 as n,b3 as C,b1 as w,ab as v,a0 as y,ak as N}from"./ChatbotName-9c579aa6.js";import{B as k}from"./browser-polyfill-5e752e65.js";import{c as P}from"./proxy-fetch-fb156a32.js";import{C as A}from"./user-config-bc7fd4f4.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function B(){const{t:s}=i(),[a,l]=h(C),c=A[a],t=x(a),m=r.useCallback(async d=>{t.sendMessage(d)},[t]),o=r.useCallback(()=>{t.generating||t.resetConversation()},[t]),u=r.useMemo(()=>({reset:o}),[o]);return e.jsx(p.Provider,{value:u,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:c.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx(g,{botId:a,name:c.name,onSwitchBot:l})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:f,className:P("w-4 h-4",t.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(b,{botId:a,messages:t.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(j,{mode:"compact",disabled:t.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:t.generating?e.jsx(n,{text:s("Stop"),color:"flat",size:"small",onClick:t.stopGenerating}):e.jsx(n,{text:s("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function S(){const{t:s}=i(),a=r.useCallback(()=>{y("open_premium_from_sidepanel"),window.open(k.runtime.getURL("app.html#/premium?source=sidepanel"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:N,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:s("Premium Feature")}),e.jsx(n,{text:s("Upgrade to unlock"),color:"primary",onClick:a})]})}function I(){const s=v();return s.isLoading?null:s.activated?e.jsx(B,{}):e.jsx(S,{})}const T=document.getElementById("app"),M=w(T);M.render(e.jsx(I,{}));
